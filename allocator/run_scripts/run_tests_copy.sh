#!/bin/bash
for p in 2 3 4
do
echo "running :: Process count = $((p*p*p))"

    for s in 12 24 36
    do
        echo "================================================================================================================================================================================"
        echo "running :: process count = $((p*p*p)) problem size = $s"
        for j in 1 2 3 4 5
        do
            echo "-------------------------------------------------    running :: process count = $p problem size = $s iteration = $j   --------------------------------------------------"
            ~/UGP/allocator/run.sh $((p*p*p)) 4 ~/UGP/allocator/miniAMR --num_refine 4 --max_blocks 9000 --npx $p --npy $p --npz $p --nx $s --ny $s --nz $s --num_objects 1 --object 2 0 -1.71 -1.71 -1.71 0.04 0.04 0.04 1.7 1.7 1.7 0.0 0.0 0.0 --num_tsteps 10 --checksum_freq 1

            echo "----------------------------------------------------------- ------------------------------------------------------------------------------------------------------------"
        done
        echo "+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"
    done

done
# cat result.log | grep "Total Time :" | awk '{print $NF}' > time.txt
# python3 data.py < time.txt